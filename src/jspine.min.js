/*
 /* Author : Andreti Enache - techlabs.ro
 /* Licence : GNU GENERAL PUBLIC LICENSE Version 3
 /* GitHub : github.com/wdub/jspine
 /* Demo : jspine.techlabs.ro
 /* Version : v1.3.3
 */
!function(t){"use strict";function n(t){var n,e,i;if(void 0!==t){if("string"==typeof t){if(e=t.substr(1),"#"===t[0])return n=document.getElementById(e),this[0]=n,this.length=1,this;n=document.getElementsByClassName(e)}else n=t.length?t:[t];for(i=0;i<n.length;i++)this[i]=n[i];return this.length=n.length,this}}function e(t){return new n(t)}e.fn=n.prototype={forEach:function(t){return this.map(t),this},map:function(t){var n,e=[];for(n=0;n<this.length;n++)e.push(t.call(this,this[n],n));return e},mapOne:function(t){var n=this.map(t);return n.length>1?n:n[0]},text:function(t){return void 0!==t?this.forEach(function(n){n.textContent=t}):this.mapOne(function(t){return t.textContent})},html:function(t){return void 0!==t?this.forEach(function(n){n.innerHTML=t}):this.mapOne(function(t){return t.innerHTML})},hasClass:function(t){return this.mapOne(function(n){return n.className.indexOf(t)>-1})},addClass:function(t){var n=t.split(",");return n.length>1?this.forEach(function(t){var e,i=t.className,o="";for(e=0;e<n.length;e++)-1===i.indexOf(n[e])&&(o+=" "+n[e]);t.className+=o}):this.forEach(function(n){var e=n.className;-1===e.indexOf(t)&&(n.className+=" "+t)})},removeClass:function(t){return void 0===t?this.forEach(function(t){t.removeAttribute("class")}):t.split(",").length>1?this.forEach(function(n){var e,i=n.className.split(" "),o="";for(e=0;e<i.length;e++)-1===t.indexOf(i[e])&&(o+=" "+i[e]);n.className=o}):this.forEach(function(n){for(var e,i=n.className.split(" ");(e=i.indexOf(t))>-1;)i=i.slice(0,e).concat(i.slice(++e));n.className=i.join(" ")})},toggleClass:function(t){return this.forEach(function(n){var e,i=n.className.split(" ");if(i.indexOf(t)>-1){for(;(e=i.indexOf(t))>-1;)i=i.slice(0,e).concat(i.slice(++e));n.className=i.join(" ")}else n.className+=" "+t})},attr:function(t,n){return void 0!==n?this.forEach(function(e){e.setAttribute(t,n)}):this.mapOne(function(n){return n.getAttribute(t)})},append:function(t){return this.forEach(function(n,e){t.forEach(function(t){n.appendChild(e>0?t.cloneNode(!0):t)})})},prepend:function(t){return this.forEach(function(n,e){var i;for(i=t.length-1;i>-1;i--)n.insertBefore(e>0?t[i].cloneNode(!0):t[i],n.firstChild)})},toggle:function(){return this.mapOne(function(){return this.isVisible()?void this.hide():void this.show()})},isVisible:function(){return this.mapOne(function(t){var n;return t.currentStyle?n=t.currentStyle.display:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue("display")),"none"!==n})},hide:function(){return this.forEach(function(t){t.style.display="none"})},show:function(){return this.forEach(function(t){t.style.display="block"})},remove:function(){return this.forEach(function(t){return t.parentNode.removeChild(t)})},newel:function(t,n,i){var o,r=e([document.createElement(t)]);if(n){n.text&&(r.text(n.text),delete n.text),n.html&&(r.html(n.html),delete n.html);for(o in n)n.hasOwnProperty(o)&&r.attr(o,n[o])}return void 0!==i&&this.append(r),r},empty:function(){return this.forEach(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})},loader:function(t){return this.forEach(function(){if(t)return void this.show();var n=this;setTimeout(function(){n.hide()},250)})},message:function(t,n){if("hide"===t)return void(void 0!==n&&this.isVisible()&&this.removeClass("show").addClass("fadeout"));if(void 0===t)return void(this[0].className="msg");var e=Object.keys(t);this.html(t[e[0]])[0].className="msg show "+e[0]},data:function(t,n){return void 0===n?void 0===this[0].dataset?this[0].getAttribute("data-"+t):this[0].dataset[t]:this.forEach(function(e){return void 0===e.dataset?void e.setAttribute("data-"+t,n):void(e.dataset[t]=n)})},formData:function(){var t,n,e,i,o,r="",s="";for(i=0;i<this[0].elements.length;i++)if(t=this[0].elements[i],t.name){if(n=t.nodeName.toLowerCase(),s="","input"===n&&("checkbox"===t.type||"radio"===t.type)&&!t.checked)continue;if("select"===n){for(o=0;o<t.options.length;o++)if(e=t.options[o],e.selected){var a=e.value;""!==s&&(s+="&"),s+=encodeURIComponent(t.name)+"="+encodeURIComponent(a)}}else s=encodeURIComponent(t.name)+"="+encodeURIComponent(t.value);""!==r&&(r+="&"),r+=s}return r},on:function(){return document.addEventListener?function(t,n,e){var i,o=function(t){var o,r=t.target;return"string"!=typeof n?n(t,r):(i=n.substr(1),"."===n[0]?o=r.className.split(" "):"#"===n[0]?o=r.id:(o=r.nodeName.toLowerCase(),i=n.substr(0)),-1===o.indexOf(i)?(t.preventDefault(),void t.stopPropagation()):e(t,r))};return this.forEach(function(n){null!==n&&n.addEventListener(t,o,!1)})}:document.attachEvent?function(t,n){return this.forEach(function(e){e.attachEvent("on"+t,n)})}:function(t,n){return this.forEach(function(e){e["on"+t]=n})}}(),off:function(){return document.removeEventListener?function(t,n){return this.forEach(function(e){e.removeEventListener(t,n,!1)})}:document.detachEvent?function(t,n){return this.forEach(function(e){e.detachEvent("on"+t,n)})}:function(t){return this.forEach(function(n){n["on"+t]=null})}}(),initXhr:function(){var t=window.XMLHttpRequest;return t?new t:new window.ActiveXObject("Microsoft.XMLHTTP")},xobj:function(){return new this.initXhr},xhr:function(t,n,e){var i=new this.initXhr;return function(){i.open("POST",n,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("X_REQUESTED_WITH","xmlhttprequest"),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&e(this.responseText)},i.onerror=function(){},i.send(t)}()}},t.$=e}(window);
